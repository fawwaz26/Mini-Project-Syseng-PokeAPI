{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import'./styles/PokemonDetail.css';// Komponen untuk menampilkan bintang rating\nimport{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const StarRating=_ref=>{let{rating}=_ref;const fullStars='★'.repeat(rating);const emptyStars='☆'.repeat(5-rating);return/*#__PURE__*/_jsxs(\"div\",{className:\"star-rating\",children:[fullStars,emptyStars]});};const StarRatingReview=_ref2=>{let{rating}=_ref2;const fullStars='★'.repeat(rating);const emptyStars='☆'.repeat(5-rating);return/*#__PURE__*/_jsxs(\"div\",{className:\"star-rating-review\",children:[fullStars,emptyStars]});};// Komponen form untuk submit review baru\nconst ReviewForm=_ref3=>{let{onReviewSubmit}=_ref3;const[reviewText,setReviewText]=useState('');const handleSubmit=event=>{event.preventDefault();onReviewSubmit(reviewText);setReviewText('');// Reset review text setelah submit\n};return/*#__PURE__*/_jsx(\"div\",{className:\"review-form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"textarea\",{value:reviewText,onChange:e=>setReviewText(e.target.value),placeholder:\"Ketikkan komentar Anda tentang Pok\\xE9mon...\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Kirim\"})]})});};// Komponen utama detail Pokémon\nconst PokemonDetail=()=>{var _pokemon$sprites,_pokemon$types;const navigate=useNavigate();// Hook untuk navigasi\nconst{pokemonId}=useParams();const[pokemon,setPokemon]=useState(null);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState('');const[reviews,setReviews]=useState([]);// Fetch data Pokémon dari PokeAPI\nuseEffect(()=>{const fetchPokemonData=async()=>{setIsLoading(true);try{// Fetch data Pokémon\nconst response=await fetch(\"https://pokeapi.co/api/v2/pokemon/\".concat(pokemonId));if(!response.ok){throw new Error('Network response was not ok');}const data=await response.json();// Fetch data species untuk mendapatkan deskripsi\nconst speciesResponse=await fetch(data.species.url);if(!speciesResponse.ok){throw new Error('Network response was not ok');}const speciesData=await speciesResponse.json();const englishDescription=speciesData.flavor_text_entries.find(entry=>entry.language.name==='en');setPokemon({...data,description:englishDescription?englishDescription.flavor_text.replace(/[\\n\\f]/g,' '):\"No description available.\"});}catch(error){setError(error.message);}finally{setIsLoading(false);}};fetchPokemonData();},[pokemonId]);// Fungsi untuk menambahkan review baru\nconst handleReviewSubmit=review=>{setReviews(prevReviews=>[...prevReviews,review]);};// Fungsi untuk kembali ke halaman utama\nconst handleBackClick=()=>{navigate('/');// Navigasi ke root/home page\n};// Tampilkan pesan loading atau error\nif(isLoading)return/*#__PURE__*/_jsx(\"div\",{children:\"Memuat...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});// Render detail Pokémon dan review\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"pokemon-detail-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pokemon-deskripsi-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleBackClick,className:\"back-button\",children:\"Back\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"left-column\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"pokemon-name\",children:[\"#\",pokemon===null||pokemon===void 0?void 0:pokemon.id.toString().padStart(3,'0'),\" \",pokemon===null||pokemon===void 0?void 0:pokemon.name]}),/*#__PURE__*/_jsx(\"img\",{className:\"pokemon-image\",src:pokemon===null||pokemon===void 0?void 0:(_pokemon$sprites=pokemon.sprites)===null||_pokemon$sprites===void 0?void 0:_pokemon$sprites.front_default,alt:pokemon===null||pokemon===void 0?void 0:pokemon.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-column\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"pokemon-description-head\",children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"pokemon-description\",children:pokemon===null||pokemon===void 0?void 0:pokemon.description}),/*#__PURE__*/_jsx(\"h2\",{className:\"pokemon-description-head\",children:\"Type\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pokemon-type\",children:pokemon===null||pokemon===void 0?void 0:(_pokemon$types=pokemon.types)===null||_pokemon$types===void 0?void 0:_pokemon$types.map(typeInfo=>/*#__PURE__*/_jsx(\"span\",{className:\"type\",children:typeInfo.type.name},typeInfo.type.name))}),/*#__PURE__*/_jsx(StarRating,{rating:4})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pokemon-review-container\",children:[/*#__PURE__*/_jsx(ReviewForm,{onReviewSubmit:handleReviewSubmit}),/*#__PURE__*/_jsxs(\"div\",{className:\"review-list\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Review\"}),reviews.map((review,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"review-item\",children:[/*#__PURE__*/_jsx(\"p\",{children:review}),/*#__PURE__*/_jsx(StarRatingReview,{rating:5}),\" \"]},index))]})]})]});};export default PokemonDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","jsxs","_jsxs","jsx","_jsx","StarRating","_ref","rating","fullStars","repeat","emptyStars","className","children","StarRatingReview","_ref2","ReviewForm","_ref3","onReviewSubmit","reviewText","setReviewText","handleSubmit","event","preventDefault","onSubmit","value","onChange","e","target","placeholder","type","PokemonDetail","_pokemon$sprites","_pokemon$types","navigate","pokemonId","pokemon","setPokemon","isLoading","setIsLoading","error","setError","reviews","setReviews","fetchPokemonData","response","fetch","concat","ok","Error","data","json","speciesResponse","species","url","speciesData","englishDescription","flavor_text_entries","find","entry","language","name","description","flavor_text","replace","message","handleReviewSubmit","review","prevReviews","handleBackClick","onClick","id","toString","padStart","src","sprites","front_default","alt","types","map","typeInfo","index"],"sources":["C:/Users/Lenovo/Documents/GitHub/Mini-Project-Syseng---PokeAPI/pokedex/src/components/PokemonDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport './styles/PokemonDetail.css';\r\n\r\n// Komponen untuk menampilkan bintang rating\r\nconst StarRating = ({ rating }) => {\r\n  const fullStars = '★'.repeat(rating);\r\n  const emptyStars = '☆'.repeat(5 - rating);\r\n  return <div className=\"star-rating\">{fullStars}{emptyStars}</div>;\r\n};\r\n\r\nconst StarRatingReview = ({ rating }) => {\r\n  const fullStars = '★'.repeat(rating);\r\n  const emptyStars = '☆'.repeat(5 - rating);\r\n  return <div className=\"star-rating-review\">{fullStars}{emptyStars}</div>;\r\n};\r\n\r\n// Komponen form untuk submit review baru\r\nconst ReviewForm = ({ onReviewSubmit }) => {\r\n  const [reviewText, setReviewText] = useState('');\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onReviewSubmit(reviewText);\r\n    setReviewText(''); // Reset review text setelah submit\r\n  };\r\n\r\n  return (\r\n    <div className=\"review-form\">\r\n      <form onSubmit={handleSubmit}>\r\n        <textarea\r\n          value={reviewText}\r\n          onChange={(e) => setReviewText(e.target.value)}\r\n          placeholder=\"Ketikkan komentar Anda tentang Pokémon...\"\r\n        />\r\n        <button type=\"submit\">Kirim</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Komponen utama detail Pokémon\r\nconst PokemonDetail = () => {\r\n  const navigate = useNavigate(); // Hook untuk navigasi\r\n  const { pokemonId } = useParams();\r\n  const [pokemon, setPokemon] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [reviews, setReviews] = useState([]);\r\n\r\n  // Fetch data Pokémon dari PokeAPI\r\n  useEffect(() => {\r\n    const fetchPokemonData = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        // Fetch data Pokémon\r\n        const response = await fetch(`https://pokeapi.co/api/v2/pokemon/${pokemonId}`);\r\n        if (!response.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n        const data = await response.json();\r\n\r\n        // Fetch data species untuk mendapatkan deskripsi\r\n        const speciesResponse = await fetch(data.species.url);\r\n        if (!speciesResponse.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n        const speciesData = await speciesResponse.json();\r\n        const englishDescription = speciesData.flavor_text_entries.find((entry) => entry.language.name === 'en');\r\n\r\n        setPokemon({\r\n          ...data,\r\n          description: englishDescription ? englishDescription.flavor_text.replace(/[\\n\\f]/g, ' ') : \"No description available.\"\r\n        });\r\n      } catch (error) {\r\n        setError(error.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPokemonData();\r\n  }, [pokemonId]);\r\n\r\n  // Fungsi untuk menambahkan review baru\r\n  const handleReviewSubmit = (review) => {\r\n    setReviews(prevReviews => [...prevReviews, review]);\r\n  };\r\n\r\n  // Fungsi untuk kembali ke halaman utama\r\n  const handleBackClick = () => {\r\n    navigate('/'); // Navigasi ke root/home page\r\n  };\r\n\r\n  // Tampilkan pesan loading atau error\r\n  if (isLoading) return <div>Memuat...</div>;\r\n  if (error) return <div>Error: {error}</div>;\r\n\r\n  // Render detail Pokémon dan review\r\n  return (\r\n    <div className=\"pokemon-detail-container\">\r\n        <div className=\"pokemon-deskripsi-container\">\r\n          <button onClick={handleBackClick} className=\"back-button\">Back</button>\r\n            <div className=\"left-column\">\r\n                <h1 className=\"pokemon-name\">#{pokemon?.id.toString().padStart(3, '0')} {pokemon?.name}</h1>\r\n                <img className=\"pokemon-image\" src={pokemon?.sprites?.front_default} alt={pokemon?.name} />\r\n            </div>\r\n            <div className=\"right-column\">\r\n                <h2 className='pokemon-description-head'>Description</h2>\r\n                <p className=\"pokemon-description\">{pokemon?.description}</p>\r\n                <h2 className='pokemon-description-head'>Type</h2>\r\n                <div className=\"pokemon-type\">\r\n                    {pokemon?.types?.map((typeInfo) => (\r\n                        <span key={typeInfo.type.name} className=\"type\">\r\n                            {typeInfo.type.name}\r\n                        </span>\r\n                    ))}\r\n                </div>\r\n                <StarRating rating={4} />\r\n            </div>\r\n        </div>\r\n\r\n        <div className=\"pokemon-review-container\">\r\n            <ReviewForm onReviewSubmit={handleReviewSubmit} />\r\n            <div className=\"review-list\">\r\n                <h2>Review</h2>\r\n                {reviews.map((review, index) => (\r\n                <div key={index} className=\"review-item\">\r\n                    <p>{review}</p>\r\n                    <StarRatingReview rating={5} /> {/* Setiap review diberi rating 5 untuk contoh */}\r\n                </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PokemonDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}